import{j as e,H as v,L as b,r as n}from"./app-BTOwIf8D.js";import{u as y,E as S}from"./use-table-state-DG38Wcdb.js";import{B as l}from"./badge-Da8aPx3h.js";import{B as N}from"./createLucideIcon-DFT9iDV_.js";import{C as A,a as _,b as w,c as B,d as L}from"./card-B8pUPphq.js";import{A as k,p as E}from"./app-layout-D0NhHDBA.js";/* empty css            */import"./checkbox-B7n_n1So.js";import"./check-DQ8R6Smr.js";import"./index-C35u2PN6.js";import"./index-jqiZ6Z0X.js";import"./dialog-CnE-lyXM.js";import"./input-DD6zzh33.js";import"./eye-D3DUn29i.js";import"./chevron-down-IHquNPSb.js";import"./separator-0_UpZlJX.js";import"./index-dJWcA3nf.js";import"./app-logo-icon-B0UCBXsZ.js";import"./settings-COTxCq5c.js";const F=[{title:"Administration",href:"#"},{title:"Permissions",href:"/admin/permissions"}],M=[{key:"all",label:"All Records"}];function ee({permissions:a,filter:o,perPage:d,search:m}){const{currentFilter:c,currentPerPage:h,currentSearch:p,loading:u,handleFilterChange:x,handlePerPageChange:g,handlePageChange:f,handleSearch:j,setLoading:i}=y({initialFilter:o,initialPerPage:d,initialSearch:m,initialPage:a?.meta?.current_page||1,baseUrl:"/admin/permissions"}),P=s=>{i(!0),n.delete("/admin/permissions/bulk",{data:{ids:s},preserveState:!0,preserveScroll:!0,onSuccess:()=>{i(!1)},onError:()=>{i(!1)}})},C=[{accessorKey:"name",header:"Name"},{accessorKey:"guard_name",header:"Guard",cell:({row:s})=>{const r=s.original.guard_name;return e.jsx(l,{variant:r==="web"?"default":"secondary",children:r})}},{accessorKey:"roles",header:"Assigned Roles",cell:({row:s})=>{const r=s.original.roles;return e.jsx("div",{className:"flex flex-wrap gap-1",children:r.length>0?r.map(t=>e.jsx(l,{variant:"secondary",children:t.name},t.id)):e.jsx("span",{className:"text-sm text-muted-foreground",children:"No roles assigned"})})}}];return e.jsxs(k,{breadcrumbs:F,children:[e.jsx(v,{title:"Manage Permissions"}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Permission Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage system permissions and assign them to roles"})]}),e.jsx(N,{asChild:!0,children:e.jsxs(b,{href:"/admin/permissions/create",children:[e.jsx(E,{className:"h-4 w-4"}),"Add Permission"]})})]}),e.jsx("div",{className:"mt-6",children:e.jsxs(A,{children:[e.jsxs(_,{children:[e.jsx(w,{children:"All Permissions"}),e.jsx(B,{children:"List of all permissions in the system"})]}),e.jsx(L,{children:e.jsx(S,{columns:C,data:a.data,columnVisibility:{created_at:!1,updated_at:!1},perPage:h,onPerPageChange:g,paginationMeta:a.meta||void 0,onPageChange:f,filters:M,onFilterChange:x,currentFilter:c,onSearch:j,searchPlaceholder:"Search permissions...",searchQuery:p,onDelete:P,loading:u,actions:{view:s=>`/admin/permissions/${s}`,edit:s=>`/admin/permissions/${s}/edit`,delete:s=>{n.delete(`/admin/permissions/${s}`,{preserveState:!0,preserveScroll:!0})}}})})]})})]})]})}export{ee as default};
