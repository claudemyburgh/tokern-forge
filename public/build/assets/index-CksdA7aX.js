import{j as e,H as b,L as y,r as l}from"./app-DzyQOBZr.js";import{u as N,E as S}from"./use-table-state-D_jtmiDM.js";import{B as n}from"./badge-CI6Ah8GU.js";import{B as A}from"./createLucideIcon-BOWPWqu5.js";import{C as R,a as w,b as B,c as L,d as _}from"./card-GDnuN_Rq.js";import{A as k,p as E}from"./app-layout-C7bWZmq_.js";/* empty css            */import"./checkbox-Byb85_1A.js";import"./check-BUhwBMa0.js";import"./index-S-_MV7Zi.js";import"./index-Des3EcZz.js";import"./dialog-Bvy-mvV0.js";import"./input-068LlN33.js";import"./eye-Cd3jVbds.js";import"./chevron-down-DGoeDWCP.js";import"./separator-L-xfdmt0.js";import"./index-dJWcA3nf.js";import"./app-logo-icon-BIHl1BbT.js";import"./settings-Bdk5S473.js";const F=[{title:"Administration",href:"/admin"},{title:"Roles",href:"/admin/roles"}],M=[{key:"all",label:"All Records"}];function re({roles:t,filter:o,perPage:d,search:c}){const{currentFilter:m,currentPerPage:h,currentSearch:p,loading:u,handleFilterChange:x,handlePerPageChange:g,handlePageChange:f,handleSearch:j,setLoading:i}=N({initialFilter:o,initialPerPage:d,initialSearch:c,initialPage:t?.meta?.current_page||1,baseUrl:"/admin/roles"}),v=r=>{i(!0),l.delete("/admin/roles/bulk",{data:{ids:r},preserveState:!0,preserveScroll:!0,onSuccess:()=>{i(!1)},onError:()=>{i(!1)}})},C=[{accessorKey:"name",header:"Name"},{accessorKey:"guards",header:"Guards",cell:({row:r})=>{const s=r.original.guards;return e.jsx("div",{className:"flex flex-wrap gap-1",children:s.map(a=>e.jsx(n,{variant:"secondary",children:a},a))})}},{accessorKey:"permissions",header:"Permissions",cell:({row:r})=>{const s=r.original.permissions;return e.jsx("div",{className:"flex flex-wrap gap-1",children:s.length>0?s.map(a=>e.jsx(n,{variant:"secondary",children:a.name},a.id)):e.jsx("span",{className:"text-sm text-muted-foreground",children:"No permissions assigned"})})}}],P={view:r=>`/admin/roles/${r}`,edit:r=>`/admin/roles/${r}/edit`,delete:r=>{l.delete(`/admin/roles/${r}`,{preserveState:!0,preserveScroll:!0})}};return e.jsxs(k,{breadcrumbs:F,children:[e.jsx(b,{title:"Manage Roles"}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Role Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage user roles and their permissions across guards"})]}),e.jsx(A,{asChild:!0,children:e.jsxs(y,{href:"/admin/roles/create",children:[e.jsx(E,{className:"h-4 w-4"}),"Add Role"]})})]}),e.jsx("div",{className:"mt-6",children:e.jsxs(R,{children:[e.jsxs(w,{children:[e.jsx(B,{children:"All Roles"}),e.jsx(L,{children:"List of all roles in the system (grouped by name)"})]}),e.jsx(_,{children:e.jsx(S,{columns:C,data:t.data,columnVisibility:{created_at:!1,updated_at:!1},perPage:h,onPerPageChange:g,paginationMeta:t.meta||void 0,onPageChange:f,filters:M,onFilterChange:x,currentFilter:m,onSearch:j,searchPlaceholder:"Search roles...",searchQuery:p,onDelete:v,loading:u,actions:P})})]})})]})]})}export{re as default};
