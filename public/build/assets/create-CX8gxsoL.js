import{u,j as e,H as j,L as c}from"./app-CrHOJBLP.js";import{B as n}from"./button-DxZQokNh.js";import{C as b,a as g,b as v,c as C,d as N}from"./card-CElr-h34.js";import{C as y}from"./checkbox-DCwqLa67.js";import{A as w,Q as R}from"./app-layout-Cccp6Q9V.js";/* empty css            */import"./check-CIAZsSA3.js";import"./createLucideIcon-DCGcOKT3.js";import"./index-ClsM6TgX.js";import"./index-KN2J88GG.js";import"./separator-DQ0Y43A3.js";import"./index-dJWcA3nf.js";import"./app-logo-icon-Cz1i6m3s.js";import"./settings-C48kpiKU.js";const k=[{title:"Administration",href:"/admin"},{title:"Roles",href:"/admin/roles"},{title:"Create",href:"#"}];function T({permissions:l}){const m=()=>{const s={};return l&&Object.keys(l).forEach(t=>{s[t]=[]}),s},{data:r,setData:a,post:x,processing:o,errors:d}=u({name:"",permissions:m()}),p=s=>{s.preventDefault(),x("/admin/roles")},f=(s,t)=>{const i=r.permissions[s]||[];i.includes(t)?a("permissions",{...r.permissions,[s]:i.filter(h=>h!==t)}):a("permissions",{...r.permissions,[s]:[...i,t]})};return e.jsxs(w,{breadcrumbs:k,children:[e.jsx(j,{title:"Create Role"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Create Role"}),e.jsx("p",{className:"text-muted-foreground",children:"Add a new role to the system"})]}),e.jsx(n,{variant:"outline",asChild:!0,children:e.jsxs(c,{href:"/admin/roles",children:[e.jsx(R,{className:"mr-2 size-4"}),"Back to Roles"]})})]}),e.jsxs(b,{children:[e.jsxs(g,{children:[e.jsx(v,{children:"New Role"}),e.jsx(C,{children:"Enter the details for the new role"})]}),e.jsx(N,{children:e.jsxs("form",{onSubmit:p,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Role Name *"}),e.jsx("input",{type:"text",value:r.name,onChange:s=>a("name",s.target.value),className:"mt-1 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"e.g., editor"}),d.name&&e.jsx("p",{className:"mt-1 text-sm text-destructive",children:d.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Assign Permissions"}),e.jsx("div",{className:"mt-2 space-y-4",children:Object.entries(l).map(([s,t])=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("h3",{className:"text-lg font-medium mb-2 capitalize",children:[s," Permissions"]}),e.jsx("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-2 md:grid-cols-3",children:t.map(i=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(y,{id:`permission-${s}-${i.id}`,checked:r.permissions[s]?.includes(i.name)||!1,onCheckedChange:()=>f(s,i.name)}),e.jsx("label",{htmlFor:`permission-${s}-${i.id}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:i.name})]},`${s}-${i.id}`))})]},s))})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(n,{variant:"outline",asChild:!0,children:e.jsx(c,{href:"/admin/roles",children:"Cancel"})}),e.jsx(n,{type:"submit",disabled:o,children:o?"Creating...":"Create Role"})]})]})})]})]})]})}export{T as default};
